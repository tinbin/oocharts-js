(function(m){function q(a,b,c){this.a=new h(a,b,c);this.e=[];this.k=[];this.options=w}function p(a,b,c){this.a=new h(a,b,c);this.options=x}function l(a,b,c){this.a=new h(a,b,c);this.e=[];this.options=z}function n(a,b,c){this.a=new h(a,b,c);this.a.h("ga:date");this.labels=[];this.options=y}function r(a,b,c){this.a=new h(a,b,c)}function h(a,b,c){function g(a){return/^([0-9]{4}-[0-9]{2}-[0-9]{2})$|^[0-9]+(m|d|w|y)$/.test(a)}function d(a){return/^[0-9]+(m|d|w|y)$/.test(a)}this.i=[];this.f=[];if(!a)throw Error("Profile argument required");
this.profile=a;b=b||new Date;c=c||new Date;b instanceof Date&&(b=u(b));c instanceof Date&&(c=u(c));if(!d(b)&&!g(b))throw Error("startDate parameter invalid");if(!d(c)&&!g(c))throw Error("endDate parameter invalid");if(d(b)&&d(c))throw Error("startDate and endDate cannot both be relative dates");this.B=b;this.v=c}function s(a){a=a.split("-");var b=new Date;b.setFullYear(a[0],a[1]-1,a[2]);b.setHours(0,0,0,0);return b}function u(a){var b=a.getFullYear().toString(),c=(a.getMonth()+1).toString();a=a.getDate().toString();
1===c.length&&(c="0"+c);1===a.length&&(a="0"+a);return b+"-"+c+"-"+a}function v(a){var b=m.createElement("script");b.type="text/javascript";b.src="https://www.google.com/jsapi";b.async=!1;b.onreadystatechange=b.onload=function(){var c=b.readyState;a.u||c&&!/loaded|complete/.test(c)||(a.u=!0,a())};var c=m.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}var t=void 0,y={},x={},w={},z={};h.prototype.q=function(){this.i=[]};h.prototype.p=function(){this.f=[]};h.prototype.c=function(a){this.i.push(a)};
h.prototype.h=function(a){this.f.push(a)};h.prototype.execute=function(a){var b={};b.key=t;b.profile=this.profile;if(0===this.i.length)throw Error("At least one metric is required");b.i=this.i.toString();b.start=this.B;b.end=this.v;0<this.f.length&&(b.f=this.f.toString());this.filters&&(b.filters=this.filters);this.sort&&(b.sort=this.sort);this.index&&(b.index=this.index);this.s&&(b.s=this.s);this.r&&(b.r=this.r);A.get("https://api.oocharts.com/v1/dynamic.jsonp",b,function(b){0===b.rows.length&&(b.rows=
[[]]);a(b)})};r.prototype.m=function(a){this.a.q();this.a.c(a)};r.prototype.b=function(a,b){this.a.execute(function(c){("string"===typeof a?m.getElementById(a):a).innerHTML="undefined"!==typeof c.rows[0][0]?c.rows[0][0].toString():"0";"undefined"!==typeof b&&b()})};n.prototype.c=function(a,b){this.labels.push(b);this.a.c(a)};n.prototype.b=function(a,b){var c=this;this.a.execute(function(g){g=g.rows;for(var d=0;d<g.length;d++)g[d][0]=s(g[d][0]);d=new google.d.n;d.g("date","Date");for(var e=0;e<c.labels.length;e++)d.g("number",
c.labels[e]);d.o(g);(new google.d.F("string"===typeof a?m.getElementById(a):a)).b(d,c.options);"undefined"!=typeof b&&b()})};l.prototype.c=function(a,b){this.e.push(b);this.a.c(a)};l.prototype.l=function(a){this.a.p();this.a.f.push(a);this.j=a};l.prototype.b=function(a,b){var c=this;this.a.execute(function(g){g=g.rows;var d=new google.d.n;d.g("string",c.j);for(var e=0;e<c.e.length;e++)d.g("number",c.e[e]);d.o(g);(new google.d.D("string"===typeof a?m.getElementById(a):a)).b(d,c.options);"undefined"!=
typeof b&&b()})};p.prototype.m=function(a,b){this.w=b;this.a.q();this.a.c(a)};p.prototype.l=function(a){this.a.p();this.a.j=a;this.a.h(a)};p.prototype.b=function(a,b){var c=this;this.a.execute(function(g){g=g.rows;var d=new google.d.n;d.g("string",c.j);d.g("number",c.w);d.o(g);(new google.d.I("string"===typeof a?m.getElementById(a):a)).b(d,c.options);"undefined"!=typeof b&&b()})};q.prototype.c=function(a,b){this.a.c(a);this.e.push(b)};q.prototype.h=function(a,b){this.a.h(a);this.k.push(b)};q.prototype.b=
function(a,b){var c=this;this.a.execute(function(g){g=g.rows;for(var d=[],e=0;e<c.k.length;e++)d.push(c.k[e]);for(e=0;e<c.e.length;e++)d.push(c.e[e]);g.splice(0,0,d);g=google.d.L(g);(new google.d.t("string"===typeof a?m.getElementById(a):a)).b(g,c.options);"undefined"!=typeof b&&b()})};return{J:h,K:n,C:l,G:r,H:p,t:q,load:function(a){function b(a){if("undefined"===typeof google.d)google.load("visualization","1",{A:["corechart","table"],callback:a});else{var b=[];"undefined"===typeof google.d.O&&b.push("corechart");
"undefined"===typeof google.d.table&&b.push("table");0<b.length&&google.load("visualization","1",{A:b,callback:a})}}if(!t)throw"Set APIKey with oo.setAPIKey before calling load";(function(a){"undefined"===typeof google?v(a):a()})(function(){b(function(){a&&a();for(var b=[],g=m.getElementsByTagName("*"),d=0;d<g.length;d++)g[d].getAttribute("data-oochart")&&b.push(g[d]);for(g=0;g<b.length;g++){var d=b[g],e=d.getAttribute("data-oochart"),k=d.getAttribute("data-oochart-start-date"),f=d.getAttribute("data-oochart-end-date"),
h=d.getAttribute("data-oochart-profile");if("metric"===e.toLowerCase())f=new r(h,k,f),f.m(d.getAttribute("data-oochart-metric")),f.b(d);else if("timeline"===e.toLowerCase()){k=new n(h,k,f);e=d.getAttribute("data-oochart-metrics");e=e.split(",");for(f=0;f<e.length;f++)k.c(e[f],e[f+1]),f+=1;k.b(d)}else if("bar"===e.toLowerCase()){k=new l(h,k,f);e=d.getAttribute("data-oochart-metrics");e=e.split(",");for(f=0;f<e.length;f++)k.c(e[f],e[f+1]),f+=1;e=d.getAttribute("data-oochart-dimension");k.l(e);k.b(d)}else if("pie"===
e.toLowerCase())k=new p(h,k,f),f=d.getAttribute("data-oochart-metric"),e=d.getAttribute("data-oochart-dimension"),f=f.split(","),k.m(f[0],f[1]),k.l(e),k.b(d);else if("table"===e.toLowerCase()){k=new q(h,k,f);f=d.getAttribute("data-oochart-metrics");h=d.getAttribute("data-oochart-dimensions");e=f.split(",");h=h.split(",");for(f=0;f<e.length;f++)k.c(e[f],e[f+1]),f+=1;for(e=0;e<h.length;e++)k.h(h[e],h[e+1]),e+=1;k.b(d)}}})})},P:u,Q:s,R:function(a){t=a},U:function(a){y=a},S:function(a){x=a},T:function(a){w=
a}}})(document);var A=function(m){var q=0,p={};return{get:function(l,n,r){r||(r=n,n={});l+=l.indexOf("?")+1?"&":"?";var h=m.getElementsByTagName("head")[0],s=m.createElement("script"),u=[],v=q,t;q++;n.M="JSONP.callbacks.request_"+v;p["request_"+v]=function(l){h.removeChild(s);delete p["request_"+v];r(l)};for(t in n)u.push(t+"="+encodeURIComponent(n[t]));l+=u.join("&");s.type="text/javascript";s.src=l;h.appendChild(s)},N:p}}(document);
